#大学排名重新写#功能描述：输入：大学排名url链接#输出：大学排名信息的屏幕输出（排名，学校名称，总分）#技术路线：requests-bs4#定向爬虫：仅对输入的url进行爬取，不做扩展爬取#定向爬虫可行性：查看robots协议 http://www.zuihaodaxue.cn/robots.txt#程序的结构设计：1：从网上获取大学排名网页内容 getHTMLText()#2：提取网页内容中信息到合适的数据结构 fillUnivList()#3：利用数据结构展示并输出结果 printUnivList()import requestsfrom bs4 import BeautifulSoupimport bs4def getHTMLText(url):    try:        r = requests.get(url,timeout=30)        r.raise_for_status()        r.encoding = r.apparent_encoding        return r.text    except:        return ''def fillUnivList(ulist,html):    soup = BeautifulSoup(html,'html.parser')    for tr in soup.find('tbody').children:        if isinstance(tr,bs4.element.Tag):#检测tr标签的类型，如果tr标签的类型不是bs4库定义的tag类型，则会被过滤掉            tds = tr('td')#将所有td标签存为一个列表类型的tds            ulist.append([tds[0].string,tds[1].string,tds[2].string,tds[3].string])            def printUnivList(ulist,num):#{3}打印学校名称时使用format的第三个变量，也就是中文字码来填充    tplt = '{0:^10}\t{1:^10}\t{2:^10}\t{3:^10}'        print(tplt.format('排名','学校名称','城市','总分',chr(12288)))    for i in range(num):        u = ulist[i]        print(tplt.format(u[0],u[1],u[2],u[3],chr(12288)))        def main():     uinfo = []     url = 'http://www.zuihaodaxue.cn/zuihaodaxuepaiming2016.html'     html = getHTMLText(url)     fillUnivList(uinfo,html)     printUnivList(uinfo,20)main()